resources:
    cloud: kubernetes
    cpus: 64+
    memory: 256+
    accelerators: H200:8

num_nodes: 8

setup: |
  sudo apt-get update
  sudo apt-get install -y libgl1
  uv python install 3.13
  source /mnt/data/sami/owl-data-2/venv/bin/activate
  which python

run: |
  cd /mnt/data/sami/owl-data-2
  source venv/bin/activate
  export PYTHONPATH=.
  venv/bin/python owl_data/waypoint_1/datasets/all_tensors_to_pose.py \
    --num_cpus 64 \
    --node_rank ${SKYPILOT_NODE_RANK} \
    --num_nodes $SKYPILOT_NUM_NODES \
    --force_overwrite
